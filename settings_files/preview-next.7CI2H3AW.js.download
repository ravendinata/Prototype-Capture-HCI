import{a as zt,b as Vt,c as Zt}from"https://app.framerstatic.com/chunk-WSTV7GC7.js";import{a as _t}from"https://app.framerstatic.com/chunk-AZ4HPXRX.js";import{a as qt}from"https://app.framerstatic.com/chunk-UK6RR2O7.js";import{a as Xt}from"https://app.framerstatic.com/chunk-MSJFHZHD.js";import{a as Kt,b as Ut,c as Bt,d as Wt}from"https://app.framerstatic.com/chunk-E5ACLB3O.js";import{a as we,b as Mt,f as Dt,q as ke}from"https://app.framerstatic.com/chunk-2F3UTVY2.js";import{a as Ft,b as Gt}from"https://app.framerstatic.com/chunk-72TMDAFS.js";import{a as At,b as Ot}from"https://app.framerstatic.com/chunk-JX6WKD7A.js";import{L as It,b as jt,d as Lt}from"https://app.framerstatic.com/chunk-ZGCMDIKF.js";import{b as jr}from"https://app.framerstatic.com/chunk-UCOC23QB.js";import{a as Jt}from"https://app.framerstatic.com/chunk-CP63BHY6.js";import{g as Nt}from"https://app.framerstatic.com/chunk-HKOAJKMW.js";import{a as G,b as _,c as Ne,e as $t}from"https://app.framerstatic.com/chunk-5U7IG3TZ.js";import{c as xe}from"https://app.framerstatic.com/chunk-76D5M5CZ.js";import"https://app.framerstatic.com/chunk-K45CX5TI.js";import{$e as Pt,D as ae,E as S,I as mt,Mb as gt,Nb as ht,Qe as Tt,Qg as kt,Sa as ft,Sf as xt,_e as Et,bd as yt,ga as Dr,hc as Ct,ib as vt,kf as wt,rd as bt,sd as Rt,t as ne,u as dt,v as ut,w as lt,wd as St,x as ie}from"https://app.framerstatic.com/chunk-MZNYGQ4U.js";import{J as W,S as Ht,m as ct}from"https://app.framerstatic.com/chunk-BBZKLIXK.js";import{b as pt}from"https://app.framerstatic.com/chunk-PTC2LDJ6.js";import{a as Mr,c as se}from"https://app.framerstatic.com/chunk-IUP46LDV.js";import{Aa as Ye,C as Re,Jb as Ee,Kb as ot,La as Qe,Lb as nt,Ma as et,N as re,O as oe,Ob as it,P as Se,Zb as at,_ as Ze,_a as tt,b as Z,e as ye,pc as Pe,qc as st,s as be,sc as q,ua as qe,va as Je,xa as Xe,y as Ve,yb as rt,za as Te}from"https://app.framerstatic.com/chunk-3H6B7RPD.js";import"https://app.framerstatic.com/chunk-JIL7N56Z.js";import{a as R}from"https://app.framerstatic.com/chunk-NMFLHQJR.js";import{$ as ze,G as Ce,H as We,J as te,K as Ge,N as _e,d as H,h as j,k as Be,u as $e}from"https://app.framerstatic.com/chunk-7QGYPRDY.js";import{a as he,b as Q,d as Oe,g as V,k as ee,m as Fe,v as Ke,w as Ue}from"https://app.framerstatic.com/chunk-HY3LIX5K.js";import{d as y}from"https://app.framerstatic.com/chunk-SHA7BKFJ.js";var Ae=y(R()),xr=y(Mr());var I=y(R());var ce=y(R());var Me=class extends ce.PureComponent{constructor(){super(...arguments);this.state={}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){if(r.nodeToRenderKey!==o.nodeToRenderKey){let t={nodeToRenderKey:r.nodeToRenderKey};return o.error&&(t.error=void 0),t}return null}render(){return this.state.error?ce.createElement(ae,{error:{error:this.state.error}}):this.props.children}};var Lr="getActions";function Yt(e){return Lr in e}var Hr="rgba(4,4,15,.4)",Co={navigationTarget:null,navigationTransition:Qe.push,navigationTransitionDirection:"left",navigationTransitionBackdropColor:Hr},Ir="navigationTarget";function Qt(e){return Ir in e}var Le=y(R());var de=y(R());var je=y(jr());function er(e){return typeof e=="string"||Se&&Se(e)?e:re&&re.isLinearGradient(e)?re.toCSS(e):oe&&oe.isRadialGradient(e)?oe.toCSS(e):Re.isColorObject(e)?Re.toRgbString(e):e}function De(e){if(e.background||e.color){let r=Object.assign({},e);return e.background&&(r.background=er(e.background)),e.color&&(r.color=er(e.color)),r}return e}function Ar(e){return typeof e=="function"?r=>e(De(r)):()=>De(e)}function Or(e){let r=Object.assign({},...e),o={};for(let t of e)for(let i in t){let n=t[i];typeof n=="function"&&(o[i]||(o[i]=[]),o[i].push(n))}for(let t in o){let i=o[t];i.length===1?r[t]=i[0]:r[t]=(...n)=>{i.forEach(s=>s(...n))}}return r}function tr(e,r){if(r.length===0)return e;let o=r.map(Ar),t=e;if(!Ee){for(let i of r)t=nt(t,i),(0,je.default)(t,e);return t}return t=function(i){de.useContext(Ee);let n=[];for(let u of o)n.push(u(i));let s=Or(n);for(let u in s){let d=s[u];typeof ye=="function"&&ye(d)&&(s[u]=d.get(),Oe("The use of Animatable values in Overrides is no longer supported. use MotionValues instead."))}let{style:l,...c}=i;return s.drag&&(c._canMagicMotion=!1),de.createElement(e,{...c,...s,_initialStyle:l})},(0,je.default)(t,e),t.displayName=`WithOverrides(${e.displayName||e.name})`,t}var ue=y(R());function Fr(e){return typeof e=="function"}function rr(e,r,o){if(!e)return;let t=Object.keys(e);if(t.length!==0)return()=>{let i=Zt(),n,s,l=!1,c={};for(let p of t){let C=e[p],g=[],h=Ur(p,r),f=!1;for(let E of C){let{actionIdentifier:P,controls:w,meta:x}=E;if(!P||!w||f&&!h||(f=Dt(E))&&w.type.value!=="previous"&&!w.target.value)continue;let A=S.componentForIdentifier(P);if(!A)continue;let K={};for(let a in w){let v=w[a];v.type===Z.ComponentInstance&&typeof v.value=="string"?K[a]=o(v.value):K[a]=v.value}let D=A.class;if(!Fr(D))continue;let U=D(K);typeof U=="function"&&(g.push({handler:U,meta:x}),Pe(x==null?void 0:x.key)&&(l=!0))}if(g.length===0)continue;let N=(...E)=>{let P=Promise.resolve();return g.forEach(w=>{var K;let{handler:x,meta:k}=w;if(h){let D=E[0];if(!D||!Br(D,k))return;(K=D.preventDefault)==null||K.call(D)}let A=k==null?void 0:k.delay;A&&(P=P.then(()=>$r(A*1e3,i))),P=P.then(()=>x(...E))}),P.catch(w=>{}),P};h?n=N:Kr(p,r)?s=N:c[p]=N}function u(){i.forEach(p=>p("cancel delayed actions")),i.clear()}let d=(0,ue.useContext)(st),m=n;return Xe((p,C)=>{let g=p&&!C;if(g||u(),g&&s&&s(),g&&m)return document.addEventListener("keydown",m),l&&d.register(m),()=>{l&&d.unregister(m),document.removeEventListener("keydown",m)}}),(0,ue.useEffect)(()=>()=>{u(),l&&m&&d.unregister(m)},[]),c}}function Kr(e,r){return e===Rt&&r}function Ur(e,r){return e===bt&&r}function Br(e,r){if(!e||!r||!r.key)return!1;let o=r.key;return Pe(e)?!ft(o)||!e.key?!1:o.mapping===e.mapping&&o.key===e.key:Object.keys(o).every(t=>o[t]===e[t])}function $r(e,r){return new Promise((o,t)=>(r.add(t),window.setTimeout(()=>{r.has(t)&&(r.delete(t),o())},e)))}var le=y(Dr());var Wr=ee("preview");function J(e,r,o){let t=n=>{let s=ht(n);return s?e.getNode(s):null},i=r;if(gt(r)){let n=t(r);if(n)i=n;else return null}if(W.isOn("compiledScreens")){let n=e.getGroundNodeFor(i),s=e.getScopeNodeFor(n);if(wt(s)){let l=Ke(Fe.Screen,n.id,"default").value,c=S.reactComponentForIdentifier(l);if(c){if(ie(c)||!ne(c))return null}else return S.errorForIdentifier(l)?null:Le.createElement(ae,{key:"component-placeholder"});return Le.createElement(c.class,{key:n.id})}}return Ot({node:i,forceRender:o,modifyComponentForNode(n,s,l){if(Qt(n)&&n.navigationTarget){let d,m;if(n.navigationTarget==="@Previous")d="goBack";else{d=n.navigationTransition;let p=e.get(n.navigationTarget);p?m=()=>J(e,p,o):Wr.warn(`Could not find navigation node for ${n.navigationTarget}`)}s=et(s,d,n.navigationTransitionDirection,m,{backdropColor:n.navigationTransitionBackdropColor})}be&&be(l)&&(l._constraints.enabled=!1);let c=[];if(Yt(n)){let d=e.getScopeNodeFor(n),m=n.getActions(S),p=St(n),C=rr(m,p,g=>{let h=e.getNode(g);if(h===null||d===null)return null;let f=e.get(h.parentid);return f===null||f.id!==d.id?null:J(e,h,o)});C&&c.push(C)}let u;if(Ct(n)&&n.codeOverrideEnabled&&n.codeOverrideIdentifier){let d=e.getScopeNodeFor(n);if(!Tt(d)){let m=S.componentForIdentifier(n.codeOverrideIdentifier);m&&(ut(m)?c.push(m.class):lt(m)&&(u=m.class))}}return u&&(s=u(s)),c.length>0&&(s=tr(s,c)),n instanceof yt&&l.contentState instanceof le.ContentState&&(l.contentState=(0,le.convertToRaw)(l.contentState)),[s,l]}})}var L=y(R()),z=y(R());var T=y(R());var or="highlightContainer_h73umcx",nr="animation_a1qvnauk",ir="highlight_h181oh5e";var He=640,F=2,Gr=!0;function _r(e,r,o=1){return!e||!r?!1:Math.abs(e.x-r.x)>o||Math.abs(e.y-r.y)>o}function zr(e){return Array.from(new Set(e))}function ar(e){return e.framerHighlight==="true"||e.highlight==="true"}function me(e){return e instanceof HTMLElement}function Vr(e){return ar(e.dataset)||e.disabled===!1}function Zr(e){let r=e;for(;me(r)&&r.dataset.framerComponentType!=="NavigationContainer";){if(ar(r.dataset))return!0;r=r.parentElement}return!1}function sr(e){let r=e;for(;r&&me(r);){if(r.dataset.framerComponentType==="NavigationContainer"){let o=r.querySelectorAll("[data-framer-is-current-navigation-target=true]");return o.length?o[o.length-1]:r}r=r.parentElement}return r}function qr(e){let{top:r,left:o,width:t,height:i}=e.target.getBoundingClientRect(),n=!1,s=!1,l=!1,c=!1;e.intersectionRatio!==1&&(n=Math.abs(e.boundingClientRect.left-e.intersectionRect.left)>1,s=Math.abs(e.boundingClientRect.right-e.intersectionRect.right)>1,l=Math.abs(e.boundingClientRect.top-e.intersectionRect.top)>1,c=Math.abs(e.boundingClientRect.bottom-e.intersectionRect.bottom)>1),(n||s)&&(o=e.intersectionRect.left,t=e.intersectionRect.width),(l||c)&&(r=e.intersectionRect.top,i=e.intersectionRect.height);let{borderTopRightRadius:u=0,borderTopLeftRadius:d=0,borderBottomLeftRadius:m=0,borderBottomRightRadius:p=0}=Gr?getComputedStyle(e.target):{},C=e.target.id?`highlight-${e.target.id}-${r}-${o}-${t}-${i}`:pt(),g=0;if(me(e.target)){let h=e.target.style;h.left==="50%"&&h.top==="50%"&&h.transform==="translate(-50%, -50%)"&&e.target.dataset.framerComponentType==="Frame"&&(g=-1)}return T.createElement("div",{key:C,className:ir,style:{borderTopRightRadius:l||s?0:`calc(${F}px + ${u}) `,borderTopLeftRadius:l||n?0:`calc(${F}px + ${d}) `,borderBottomLeftRadius:c||n?0:`calc(${F}px + ${m}) `,borderBottomRightRadius:c||s?0:`calc(${F}px + ${p}) `,top:r-F,left:o-F,width:t+F*2,height:i+F*2+g,borderWidth:F}})}function cr({setHighlightsCallback:e}){let[r,o]=T.useState([]),t=T.useRef(void 0),i=T.useCallback(u=>{let d=new IntersectionObserver((m,p)=>{o(m.filter(C=>C.isIntersecting).map(qr).filter(Boolean)),p.disconnect()},{threshold:[0]});zr([...u.querySelectorAll("[data-framer-highlight=true], [data-highlight=true], *:enabled")]).forEach(m=>d.observe(m))},[]),n=!!r.length,s=T.useCallback(u=>{let d=u.target;if(_r({x:u.clientX,y:u.clientY},t.current,4)||u.defaultPrevented||!(d instanceof Element)||me(d)&&Vr(d)||Zr(d)||n)return;let m=sr(d);!m||i(m)},[i,n]),l=T.useCallback(()=>{let u=sr(document.querySelector("[data-framer-is-current-navigation-target=true]"));!u||i(u)},[i]);T.useEffect(()=>{let u=setTimeout(()=>{l()},He);return()=>clearTimeout(u)},[l]),T.useEffect(()=>{if(r&&r.length){let u=setTimeout(()=>o([]),He);return()=>clearTimeout(u)}},[r]);let c=T.useCallback(u=>{t.current={x:u.clientX,y:u.clientY}},[]);return T.useEffect(()=>(document.addEventListener("mousedown",c),document.addEventListener("mouseup",s),e(l),()=>{e(null),document.removeEventListener("mouseup",s),document.removeEventListener("mousedown",c)}),[s,c,e,l]),T.createElement("div",{className:se(r.length&&nr,or),style:{animationDuration:`${He}ms`}},r)}var X=y(R());function dr(e,r,o){let t=X.createElement(X.Fragment,null,o);if(!e)return t;let i=S.componentForIdentifier(e);return!i||!dt(i)?t:X.createElement(i.class,r,o)}var ur="previewApp_p19opbdr",lr="touchCursor_tq8245a";var mr=L.memo(function({tree:r,customProperties:o,nodeToRender:t,nodeToRenderKey:i,reloadCount:n,assetMapHash:s,touchCursor:l,highlightsEnabled:c,pluginComponentId:u,setHighlightsCallback:d,onFinishedRendering:m,onNavigationAction:p}){let C=(0,z.useCallback)(x=>{let k=r.getNode(x);return k?J(r,k,s):null},[r,s]),[g]=(0,z.useState)(()=>new qe((x,k,A)=>{A.dispatchEvent(new CustomEvent("FramerEvent",{bubbles:!0,detail:{type:x,event:k}}))}));(0,z.useEffect)(()=>m==null?void 0:m(),[m]);let h=J(r,t,s),f=L.createElement(Ye,null,h);Te&&(f=L.createElement(Te,{value:p},f));let{width:N,height:E}=t.rect(),P=dr(u,{prototypeWidth:N,prototypeHeight:E},f),w=L.createElement("div",{className:se(ur,l&&lr),key:i+n},L.createElement(it,{value:C},L.createElement(ot,null,L.createElement(Je,{session:g},L.createElement(at,null,P)))),d&&c&&L.createElement(cr,{setHighlightsCallback:d}));return Ft(w,o)},Qr),Jr=new Set(["tree","customProperties","nodeToRenderKey","assetMapHash","autoReload"]),Xr={tree:!0,customProperties:!0,nodeToRender:!0,nodeToRenderKey:!0,assetMapHash:!0,autoReload:!0,reloadCount:!0,modulesUpdateCount:!0,externalModulesLoading:!0,touchCursor:!0,highlightsEnabled:!0,pluginComponentId:!0,setHighlightsCallback:!0,onFinishedRendering:!0,onNavigationAction:!0},Yr=Object.keys(Xr);function Qr(e,r){return r.autoReload===!0?!1:Yr.every(o=>{if(Jr.has(o))return!0;let t=r[o],i=e[o];return o==="nodeToRender"?t.id===i.id:t===i})}var pe=y(R());var pr=["click","contextmenu","keydown"];function fr({disabled:e=!1}){let r=pe.useRef(new H),o=tt(t=>{r.current.emit({type:t.type})},1e3);return pe.useEffect(()=>{if(!e)return pr.forEach(t=>{window.addEventListener(t,o,!0)}),()=>{pr.forEach(t=>{window.removeEventListener(t,o,!0)})}},[e,o]),r.current.newStream}var fe=y(R());function vr(e){return function(o){o.repeat||o.defaultPrevented||o.isComposing||(e.emit({altKey:o.altKey,code:o.code,ctrlKey:o.ctrlKey,key:o.key,keyCode:o.keyCode,metaKey:o.metaKey,shiftKey:o.shiftKey}),eo(o)&&o.preventDefault())}}function eo(e){if(!(e.ctrlKey||e.metaKey))return!1;switch(e.keyCode){case 73:return!0;case 79:return!0;case 80:return!0;case 82:return!0;case 83:return!0;case 72:return!0}return!1}function gr(){let e=fe.useRef(new H),r=vr(e.current);return fe.useEffect(()=>{let o=r;return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[r]),e.current.newStream}var $=y(R());var to=[/^\[[a-z:-]+\]\s*☎️/i,/^%c Loader: %c/,/warn: \[FeatureSet\]/],ro='Unable to show message, check the web inspector console. You can access the web inspector by right-clicking the preview, and selecting "Inspect".';function hr(){let e=$.useRef(new H),r=$.useRef(),o=$.useRef(i=>{let{data:n,...s}=i;if(n[0]&&to.some(c=>typeof n[0]=="string"&&c.test(n[0])))return;let l={...s,data:n.map(c=>{try{return Ne(c)}catch(u){return Ne(ro)}})};Promise.resolve().then(()=>{e.current.emit({logs:[l]})}).catch(V)}),t=$.useRef(i=>{try{let n=Mt(i),s=n.message;n.stack&&(s+=`
`,s+=n.stack.map(c=>c.functionName?`  at ${c.functionName} (${c.fileName}:${c.lineNumber}:${c.colNumber})`:`  at ${c.fileName}:${c.lineNumber}:${c.colNumber}`).join(`
`));let l={method:Kt.Error,data:[s],id:""};o.current(l)}catch(n){}});return $.useEffect(()=>{let i=t.current;return r.current=Ut(window.console,o.current),window.addEventListener("error",i),()=>{r.current&&Bt(r.current),window.removeEventListener("error",i)}},[]),e.current.newStream}var ve=y(R());function Cr(){let e=ve.useRef(new H),r=ve.useCallback(o=>e.current.emit({key:o}),[]);return[e.current.newStream,r]}var ge=y(R());function yr(){let e=ge.useRef(new H),r=ge.useCallback(()=>{e.current.emit({})},[]);return[e.current.newStream,r]}var b=y(R());function br(e){let o=e.root.children;for(let t=0,i=o.length;t<i;t++)Rr(o[t])}function Rr(e){let r=e.cache;r.reset(),r.lastUpdate=e.update;let o=e.children;if(!!o)for(let t=0,i=o.length;t<i;t++){let n=o[t];Rr(n)}}var oo=window,Sr="",Tr="";function Er(e){let r=e["index.js"],o=e["vendors.js"];r&&(Sr=String(we(r))),o&&(Tr=String(we(o)));let t=`${Sr}_${Tr}`;return oo.componentHash=t,t}var Y=ee("preview"),no=0,Ie=()=>`key-${++no}`;function io(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="canvas"?e.nodeToRender.id:void 0}function ao(e){var r;return((r=e.nodeToRender)==null?void 0:r.type)==="codeEditor"?e.nodeToRender.componentId:void 0}function so(e){let r=S.componentForIdentifier(e);return r&&ne(r)?r:S.errorForIdentifier(e)}function co(e){let r=e.defaultProps||{},o=ke(r.width,200),t=ke(r.height,200);return new Pt({codeComponentIdentifier:e.identifier,left:0,top:0,width:o,height:t,...vt({width:{type:Z.Number,value:o},height:{type:Z.Number,value:t}})})}function uo(e){return xt(e,S)}function lo(e){br(e),Lt(e,new It)}function mo(e,r,o={getCustomProperties:uo,getComponent:so,applyChanges:xe,rebuildCache:lo}){var n,s,l,c,u;let t={...e},i=!1;switch(r.type){case"applyTreeChanges":if(e.tree)try{o.applyChanges(e.tree,r.changes),t.tree=e.tree.commit()}catch(d){Y.reportError(d),delete t.tree,t.shouldPerformFullTreeLoad=!0}break;case"forceRender":t.project.status==="loaded"&&t.reloadCount++;break;case"setNodeToRender":t.nodeToRender=r.nodeToRender;break;case"setTree":t.tree=r.tree,t.shouldPerformFullTreeLoad=!1;break;case"pause":t.isPaused=!0;break;case"resume":t.isPaused=!1;break;case"setAutoReload":t.autoReload=r.autoReload;break;case"setHighlights":t.isHighlightsEnabled=r.value;break;case"setPluginComponentId":t.pluginComponentId=r.value;break;case"updateStateDueToScriptsChange":i=!0;break;case"updateStateDueToModuleChange":i=!0,performance.now()<t.modulesFreezingTimestamp&&t.modulesUpdateCount++;break;case"assetMapDidUpdate":t.assetMapHash=r.assetMapHash,t.tree&&jt({subtree:t.tree.root,invalidateElements:!0,invalidateAssets:!0});break;case"externalModulesLoadingStateUpdate":t.externalModulesLoading=r.loading,t.project.status==="loaded"&&!r.loading&&(t.project.nodeToRenderKey=Ie());break;default:Q(r)}if(t.nodeToRender)switch(t.nodeToRender.type){case"canvas":{let d=t.tree!==e.tree,m=t.nodeToRender.id!==io(e),p=t.nodeToRender.touchCursor!==((n=e.nodeToRender)==null?void 0:n.touchCursor),C=t.assetMapHash!==e.assetMapHash;if(t.tree&&t.assetMapHash!==void 0&&(d||m||p||C||i)){let g=t.tree.getNode(t.nodeToRender.id);if(g){let h=o.getCustomProperties(t.tree);t.project={status:"loaded",tree:t.tree,customProperties:h,nodeToRender:g,nodeToRenderKey:Ie(),assetMapHash:t.assetMapHash,touchCursor:t.nodeToRender.touchCursor}}else t.project={status:"error"}}}break;case"codeEditor":{let d=!e.tree&&t.tree,m=t.nodeToRender.componentId!==ao(e),p=t.nodeToRender.touchCursor!==((s=e.nodeToRender)==null?void 0:s.touchCursor),C=t.assetMapHash!==e.assetMapHash;if(!t.tree||t.assetMapHash===void 0){t.project={status:"waiting"};break}if(d||m||p||C||i){let g=o.getComponent(t.nodeToRender.componentId);if(!g){t.project={status:"error"};break}if(ie(g)&&g.fileDoesNotExist){t.project={status:"waiting"};break}let h=o.getCustomProperties(t.tree);t.project={status:"loaded",tree:t.tree,customProperties:h,nodeToRender:co(g),nodeToRenderKey:Ie(),assetMapHash:t.assetMapHash,touchCursor:t.nodeToRender.touchCursor}}}break;default:Q(t.nodeToRender)}return t.tree&&(t.tree!==e.tree||i||e.externalModulesLoading&&!t.externalModulesLoading)&&o.rebuildCache(t.tree),((l=e.project)==null?void 0:l.status)!==((c=t.project)==null?void 0:c.status)&&((u=t.project)==null?void 0:u.status)==="loaded"&&(t.modulesFreezingTimestamp=performance.now()+3e3),t}function Pr({assetResolverType:e,renderPhaseEventStream:r,logStream:o,keyboardEventStream:t,interactionStream:i,navigationEventStream:n,onShowHighlights:s}){let[{isPaused:l,autoReload:c,project:u,shouldPerformFullTreeLoad:d,isHighlightsEnabled:m,pluginComponentId:p,reloadCount:C,modulesUpdateCount:g,externalModulesLoading:h},f]=(0,b.useReducer)(mo,{isPaused:!1,autoReload:!0,isHighlightsEnabled:!1,project:{status:"loading"},shouldPerformFullTreeLoad:!0,reloadCount:0,modulesUpdateCount:0,modulesFreezingTimestamp:Infinity,externalModulesLoading:!1}),N=Vt(()=>zt.createPreviewModulesRuntime(a=>{f({type:"externalModulesLoadingStateUpdate",loading:a})})),E=(0,b.useCallback)(a=>{a.root.walk(v=>{if(!Et(v))return;let M=Ue(v.codeComponentIdentifier);(M==null?void 0:M.kind)==="externalModuleExport"&&N.ensureExternalModuleLoaded(M).catch(Y.reportError)})},[N]),P=(0,b.useRef)(null),w=(0,b.useRef)(null),x=(0,b.useCallback)(a=>{N.handleLocalModulesUpdate(a).then(()=>{f({type:"updateStateDueToModuleChange"})}).catch(Y.reportError)},[N]),k=(0,b.useCallback)(a=>{let v=Er(a);P.current!==v&&(S.updateStateWithScripts(a,q),P.current=v,w.current=a,f({type:"updateStateDueToScriptsChange"}))},[]),A=(0,b.useCallback)(a=>{let v=kt.fromJS(a,S);if(!v)throw Error("unable to build tree from: "+a);E(v),f({type:"setTree",tree:v})},[E]),K=(0,b.useCallback)(a=>{f({type:"applyTreeChanges",changes:a})},[]),D=(0,b.useRef)(!1);(0,b.useEffect)(()=>{he(!D.current,"Ensure interface handlers are wrapped in useRef/useCallback to avoid restarting the service"),We.on(j).register({reload:async()=>{w.current&&S.updateStateWithScripts(w.current,q),f({type:"forceRender"})},pause:async()=>{f({type:"pause"})},resume:async()=>{f({type:"resume"})},setAutoReload:async({autoReload:a})=>{f({type:"setAutoReload",autoReload:a})},previewKeyboardEventStream:t,renderPhaseEventStream:r,previewLogStream:o,previewInteractionStream:i||function(){throw new Error("Not implemented")},navigationEventStream:n,showHighlights:s}),D.current=!0},[i,t,o,s,r,n]),(0,b.useEffect)(()=>{!d||(te.on(j).discover().then(async a=>{let{document:v,initialUpdates:M,scripts:B}=await a.loadDocument();if(B&&k(B),v){let O=Nt(v);M&&(xe(O,M),O=O.commit()),E(O),f({type:"setTree",tree:O})}}).catch(V),Ce.on(j).discover().then(async a=>{let{modules:v,initialized:M}=await a.getModules(),B=[];for(let O of Object.values(v))B.push({op:"add",path:[`${O.type}/${O.name}`],value:O});x({patches:B,dependentModules:[],initialized:M})}).catch(V),$e.on(j).discover().then(async a=>{a.experimentsUpdatesStream({replay:"latest"}).read(v=>W.update(v)).catch(Y.reportError)}).catch(Y.reportError))},[d,k,x,E]),G({channel:j,service:te,onDiscover:a=>a.scriptUpdateStream(),onError:_},async({content:a})=>k(a)),G({channel:j,service:Ce,onDiscover:a=>a.moduleUpdatesStream(),onError:_},async({patches:a,dependentModules:v,initialized:M})=>{x({patches:a,dependentModules:v,initialized:M})}),G({channel:j,service:te,onDiscover:a=>a.treeUpdateStream(),onError:_},async a=>{a.type==="tree"?A(a.tree):a.type==="changes"?K(a.changes):Q(a)}),G({channel:j,service:Ge,onDiscover:a=>a.previewMetadataUpdateStream({replay:"latest"}),onError:_},async({node:a,touchCursor:v,highlights:M,pluginComponentId:B})=>{f({type:"setHighlights",value:M}),f({type:"setPluginComponentId",value:B}),f({type:"setNodeToRender",nodeToRender:a?{...a,touchCursor:v}:void 0})}),G({channel:j,service:_e,onDiscover:a=>a.keyDownStream(),onError:_},async a=>{let v=new KeyboardEvent("keydown",a);document.dispatchEvent(v)});let U=(0,b.useContext)(Jt);return he(U,"Missing AssetMap, the preview may have not been bootstrapped correctly"),(0,b.useEffect)(()=>{if(e==="studio"){f({type:"assetMapDidUpdate",assetMapHash:U.hash});return}ct(Be.on(j).discover(),async a=>{!a.assets||(U.update(a.assets),rt.importCustomFonts(a.assets),f({type:"assetMapDidUpdate",assetMapHash:U.hash}))})},[e,U]),{isPaused:l,project:u,isHighlightsEnabled:m,pluginComponentId:p,autoReload:c,reloadCount:C,modulesUpdateCount:g,externalModulesLoading:h,modulesRuntime:N}}var wr=({assetResolverType:e,enableInteractionTracking:r})=>{let o=I.useRef(null),t=I.useCallback(E=>{o.current=E},[]),i=I.useCallback(async()=>{!o.current||o.current()},[]),[n,s]=yr(),[l,c]=Cr(),{isPaused:u,project:d,autoReload:m,isHighlightsEnabled:p,pluginComponentId:C,reloadCount:g,modulesUpdateCount:h,externalModulesLoading:f,modulesRuntime:N}=Pr({assetResolverType:e,renderPhaseEventStream:n,logStream:hr(),keyboardEventStream:gr(),interactionStream:fr({disabled:!r}),navigationEventStream:l,onShowHighlights:i});return u||d.status!=="loaded"&&d.status!=="waiting"?null:d.status==="waiting"?I.createElement(Wt,null):I.createElement(At.Provider,{value:N},I.createElement(Me,{nodeToRenderKey:d.nodeToRenderKey},I.createElement(mr,{...d,setHighlightsCallback:t,highlightsEnabled:p,pluginComponentId:C,onFinishedRendering:s,onNavigationAction:c,autoReload:m,reloadCount:g,modulesUpdateCount:h,externalModulesLoading:f})))};window.Framer=q;function kr(){let r=new URL(window.location.href).searchParams.get("target"),{assetResolverType:o,enableInteractionTracking:t,renderTarget:i}=$t(r),{imageBaseURL:n}=qt(),{assetResolver:s,AssetProvider:l}=Xt({assetResolverType:o,imageBaseURL:n}),c=s?{assetResolver:s}:{},u=new _t;mt({...c,fetchGoogleFontsList:Gt,experiments:W,useImageSource:u.useImageSource,useImageElement:u.useImageElement}),Ze.start(),Ve({target:i,imageBaseURL:n});let d=document.querySelector("main");xr.render(Ae.createElement(l,null,Ae.createElement(wr,{assetResolverType:o,enableInteractionTracking:t})),d)}var Nr=Ht(document.referrer).origin;ze({name:"preview-next",security:{allowChannelToParentWithOrigin:Nr,allowChannelToOpenerWithOrigin:Nr}});kr();
//# sourceMappingURL=https://app.framerstatic.com/preview-next.7CI2H3AW.js.map
